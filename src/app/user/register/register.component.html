<h2>Register</h2>

<form [formGroup]="form" (ngSubmit)="submitHandler()">
  <div class="form-group">
    <label for="email">Email</label>
    <input
      formControlName="email"
      [class.is-invalid]="emailInput?.touched && !!emailInput?.invalid"
      id="email"
      type="email"
      class="form-control"
      name="email"
    />
    <p
      *ngIf="emailInput?.touched && emailInput?.errors?.required"
      class="text-danger"
    >
      Email is required.
    </p>
    <p
      *ngIf="emailInput?.touched && emailInput?.errors?.email"
      class="text-danger"
    >
      Email is invalid.
    </p>
  </div>
  <div class="form-group">
    <label for="username">Username</label>
    <input
      formControlName="username"
      [class.is-invalid]="usernameInput?.touched && usernameInput?.invalid"
      type="text"
      class="form-control"
      name="username"
    />
    <p
      *ngIf="usernameInput?.touched && usernameInput?.errors?.required"
      class="text-danger"
    >
      Username is required.
    </p>
    <p
      *ngIf="usernameInput?.touched && usernameInput?.errors?.minlength"
      class="text-danger"
    >
      Username must be at least
      {{ usernameInput?.errors?.minlength.requiredLength }} characters.
    </p>
  </div>
  <div class="form-group">
    <label for="password">Password</label>
    <input
      formControlName="password"
      [class.is-invalid]="passwordInput?.touched && !!passwordInput?.invalid"
      id="password"
      type="password"
      class="form-control"
      name="password"
    />
    <p
      *ngIf="passwordInput?.touched && passwordInput?.errors?.required"
      class="text-danger"
    >
      Password is required.
    </p>
    <p
      *ngIf="passwordInput?.touched && passwordInput?.errors?.minlength"
      class="text-danger"
    >
      Password must be at least
      {{ passwordInput?.errors?.minlength.requiredLength }} characters long.
    </p>
  </div>
  <div class="form-group">
    <label for="rePassword">Repeat password</label>
    <input
      formControlName="rePassword"
      [class.is-invalid]="
        rePasswordInput?.touched && !!rePasswordInput?.invalid
      "
      id="rePassword"
      type="password"
      class="form-control"
      name="rePassword"
    />
    <p
      *ngIf="rePasswordInput?.touched && rePasswordInput?.invalid"
      class="text-danger"
    >
      Passwords do not match.
    </p>
  </div>
  <div class="form-group">
    <button
      [disabled]="isLoading || form.invalid"
      [class.disabled]="isLoading || form.invalid"
      class="btn btn-primary"
    >
      Register
    </button>
  </div>
</form>
